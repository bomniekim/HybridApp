## Flux Pattern

Flux pattern은 단방향 데이터 흐름을 활용해 뷰 컴포넌트를 구성하는 React를 보완하는 역할을 한다.<br/><br/>
##### React Native의 단방향 데이터 흐름 구조 <br/> 
자식 컴포넌트는 부모 컴포넌트에게 데이터를 줄수 없고 부모 컴포넌트만이 자식 컴포넌트에게 property(속성)를 통해 데이터를 전달 할 수 있다. 또한, 자식 컴포넌트 간에도 서로 데이터를 주고 받을 수 있다.<br/>
(쉬운 이해를 위해 부모-자식이라고 부르지만 상속을 통한 개념은 아님)<br/>

그렇기에 컴포넌트들 간에 데이터를 공유하고자 한다면 그 컴포넌트들의 부모 컴포넌트의 state에 데이터를 저장하고<br/>
자식 컴포넌트들은 props를 통해 전달받아 값을 공유할 수 있다. [ RN13의 구조 참고 ]<br/><br/>

하지만, 앱의 규모가 커져 컴포넌트의 중첩이 많아져서 부모-자식-손자-증손자-고손자..... 등으로 컴포넌트의 단계가 많아지면
부모의 state값을 고손자 까지 전달하기 위해 props를 통해 전달->전달->전달->전달 을 해야 하는 상황이 생김.

초기에는 상관없으나 조금의 변경상황이 생겼을 때 그 수정과정이 매우 번거롭고 난해하며 어느 단계에서 데이터가 변경되어 자식->자식->자식으로 전달되었는지 파악하기 어려움
하여 앱에서 Data관리를 어떻게 할 것인가에 대한 고민이 필요함.

이 고민의 결과로 Flux 패턴이 도입됨 ( 일종의 전역변수저장 공간(Store라고 부름) 1개를 만들고 모든 컴포넌트들이 이 공간을 접속하여 데이터를 취급하는 구조의 패턴 )
이 Flux패턴을 구현한 라이브러리가 Redux 임. RN에서는 이 Redux을 대신하기 위해 Context API를 만들었음.

이 Flux 패턴 데이터 구조를 이해하기 위해 먼저 기본적인 데이터 전달방식을 다시한번 만들어 보면서 전달-전달-전달 과정에 대해 알아보기





* * *




// 위 방법으로 부모 Main의 state를 변경하면 자식 First의 props에 변화가 생겨서 state변경처럼 자동 갱신되며... 연쇄적으로 Second의 props도 변경되어 또 Second도 갱신되는 메커니즘으로
            // 3개의 컴포넌트가 보여주는 모든 data가 동시에 변경됨. 이렇게 자식의 데이터는 부모로 전달하지 못하고 부모의 값이 자식에게 전달되면서 변경되도록 하여 언제나 데이터가 부모로부터 자식으로
            // 변경되도록 한 기법을 [단방향 데이터 흐름] 이라고 부름 

            // 데이터의 원본위치가 정확하여 데이터 관리가 용이해보이고 자식으로 부터의 데이터 전달이 없으므로 전체 데이터 이동에 대해 상대적으로 수월하게 이해할 수 있어서 장점이 있으나.
            // 부모-자식-손자-증손자... 로 전달-전달-전달을 지속적으로 해야 해서 사용할 때 번거롭고
            // 부모의 state 변수명을 수정하면 그로 인해 자식-손자-증손자까지 모두 변경해야 하는 불편함이 있고 어디에서 값이 변경되어 모든 컴포넌트의 데이터가 변경되었는지 파악하지 어려워..

            // 페이스북에서 flux패턴을 고안하게 되었음.
            // flux 패턴은 모두 사용하는 데이터를 전역변수 저장소(Store라고 부름)라는 곳에 일괄 보관하여 어느 컴포넌트든 접근해서 사용할 수 있도록 하는 데이터 Architecture 기술임

            // 이를 알아보기 위해 우선 React 에 이런 목적을 위해 만들어 놓은 Context 라는 클래스에 대해 알아보고 사용해보고 자 함.
